<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Grama Niladhari Online Services - GNOS</title>
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* üîπ Profile button blink animation */
    @keyframes blinkEffect {
      0% { background-color: transparent; transform: scale(1); }
      25% { background-color: #2563eb; transform: scale(1.1); }
      50% { background-color: #60a5fa; transform: scale(1); }
      75% { background-color: #2563eb; transform: scale(1.05); }
      100% { background-color: transparent; transform: scale(1); }
    }
    .blink {
      animation: blinkEffect 0.6s ease;
    }
    .icon-btn {
      font-size: 22px;
      background: none;
      border: none;
      cursor: pointer;
      color: #1e3a8a;
      transition: all 0.3s ease;
    }
    .icon-btn:hover {
      transform: scale(1.1);
      color: #2563eb;
    }
    /* üü° Yellow Button Style */
    .btn.yellow {
      background: linear-gradient(135deg, #facc15, #fbbf24);
      color: #000;
      border: none;
      padding: 12px 28px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      box-shadow: 0 4px 10px rgba(250, 191, 36, 0.4);
      transition: all 0.3s ease;
    }
    .btn.yellow:hover {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      box-shadow: 0 6px 14px rgba(245, 158, 11, 0.6);
      transform: translateY(-2px);
    }
    /* üîπ Simple slideshow style */
    .hero-images {
      position: relative;
      width: 100%;
      height: 350px;
      overflow: hidden;
      margin-top: 20px;
    }
    .carousel-img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }
    .carousel-img.active { opacity: 1; }
  </style>
</head>
<body>

<!-- üî∑ HEADER -->
<header class="topbar">
  <div class="top-left">
    <img src="Emblem.png" alt="Emblem" class="emblem-logo"/>
    <img src="logo_long.png" alt="GNOS" class="logo" />
  </div>
  <div class="top-right">
    <div class="lang-buttons">
      <button class="lang-btn" data-lang="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</button>
      <button class="lang-btn" data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
      <button class="lang-btn" data-lang="en">English</button>
    </div>
    <a href="l3.html" class="btn small">Sign in</a>
    <a href="register.html" class="btn primary small">Register</a>
    <button id="profileBtn" class="icon-btn" title="Profile">üë§</button>
  </div>
</header>

<!-- üî∑ NAVIGATION -->
<nav class="main-nav">
  <a href="#home" class="nav-link" data-scroll>Home</a>
  <a href="#about" class="nav-link" data-scroll>About</a>
  <a href="#services" class="nav-link" data-scroll>Services</a>
  <a href="#downloads" class="nav-link" data-scroll>Downloads</a>
</nav>

<!-- üî∑ MAIN CONTENT -->
<main>
  <!-- üü¶ HERO SECTION -->
  <section id="hero" class="hero">
    <div class="hero-tagline">FAST <span>|</span> TRANSPARENT <span>|</span> SECURE</div>
    <h1 data-i18n="title">Grama Niladhari Online Services</h1>
    <p class="subtitle" data-i18n="subtitle">An Official Portal To Streamline Key GN Services</p>
    <div class="hero-cta">
      <a href="#services" class="btn large" id="getStartBtn">Get start</a>
      <a href="login.html" class="btn outline large" id="howItWorksBtn">How it works</a>
    </div>

    <!-- üñºÔ∏è Slideshow -->
    <div class="hero-images">
      <img src="screenshot4.jpeg" alt="hero" class="carousel-img active">
      <img src="screenshot3.jpeg" alt="hero" class="carousel-img">
      <img src="screenshot5.jpeg" alt="hero" class="carousel-img">
      <img src="screenshot6.jpeg" alt="hero" class="carousel-img">
      <img src="Intake_43.jpeg" alt="hero" class="carousel-img">
    </div>
  </section>

  <!-- üü© ABOUT -->
  <section id="about" class="about">
    <h2 align="center">About</h2>
    <div class="about-content">
      <img src="screenshot1.jpg" alt="about image">
      <p align="justify">
        The Digital Service Management System for Grama Niladhari Offices has been developed to
        address the limitations of traditional appointment and document handling processes by introducing a
        comprehensive digital platform. The system integrates core functions such as person registration,
        identification document processing, and certificate issuance within a centralized web application.
        By incorporating a structured backend for service tracking and record-keeping, the project aims to
        enhance operational efficiency, ensure data accuracy, and improve the overall accessibility of services for both
        officers and citizens.
      </p>
    </div>
  </section>

  <!-- üü® SERVICES -->
  <section id="services" class="services">
    <h2>Services</h2>
    
    <div class="service-cards">
      <!-- ‚úÖ Changed this button to open the Elections Department page -->
      <div class="card service" tabindex="0">
        <div class="lock">üîì</div>
        <h3>Verification of NIC</h3>
        <p>Verify NIC details using the official elections portal.</p>
       <!--<a href="https://eservices.elections.gov.lk/pages/myVoterRegistrationSearch.aspx" 
           class="btn small" target="_blank">Open</a> -->
           <a href="nic_instructions.html" class="btn small">Open</a>
      </div>
          
      <div class="card service" tabindex="0">
        <div class="lock">üîí</div>
        <h3>Person Registration</h3>
        <p>Register person details for the GN division and forum entries.</p>
        <a href="person_registration.html" class="btn small">Open</a>
      </div>
                     
      <div class="card service" tabindex="0">
        <div class="lock">üîì</div>
        <h3>Issuing Character Certificates</h3>
        <p>Generate a character certificate from entered person details.</p>
        <a href="f.html" class="btn small">Open Form</a>
      </div>
    </div>
  </section>

  <!-- üüß DOWNLOADS -->
  <section id="downloads" class="downloads">
    <h2>Downloads</h2>
    <div class="download-grid">
      <div class="download-item">
        <a href="viewer.html?file=id.pdf" target="_blank">
          <span class="download-icon">‚¨áÔ∏è</span> Application for National Identity Card
        </a>
      </div>
      <div class="download-item">
        <a href="viewer.html?file=form_02.pdf" target="_blank">
          <span class="download-icon">‚¨áÔ∏è</span> Verification of Temporary Residential Address
        </a>
      </div>
      <div class="download-item">
        <a href="viewer.html?file=form_03.pdf" target="_blank">
          <span class="download-icon">‚¨áÔ∏è</span> Specimens of Death Certificate
        </a>
      </div>
    </div>
  </section>

  <!-- üü¶ INFO CENTER -->
  <section class="info-center">
    <h2>Grama Niladhari Information Center</h2>
    <p>View administrative GN information across districts and divisions.</p>
    <a href="v.html" target="_blank" class="btn primary small">View</a>

  </section>
</main>

<!-- üî∑ FOOTER -->
<footer class="site-footer">
  <div class="footer-section left">
    <p>Related Links</p>
    <ul>
      <li><a href="https://pubad.gov.lk/" target="_blank">Ministry of Public Administration</a></li>
      <li><a href="https://drp.gov.lk/" target="_blank">Department For Registration Of Persons</a></li>
      <li><a href="https://elections.gov.lk/" target="_blank">Election Commission of Sri Lanka</a></li>
    </ul>
  </div>

  <div class="footer-section center">
    <img src="logo_long.png" alt="GNOS Logo" class="footer-logo" />
    <div class="footer-brand">
      <div class="footer-desc">Grama Niladhari Online Services<br>Sri Lanka</div>
    </div>
  </div>

  <div class="footer-section right">
    <p class="footer-contact-title">Contact</p>
    <ul class="footer-contact-list">
      <li><span>üìû</span> +94 11 123 4567</li>
      <li><span>‚úâÔ∏è</span> info@gnos.gov.lk</li>
      <li><span>üì†</span> +94 11 765 4321</li>
    </ul>
    <p class="footer-update">Last Update: <span id="lastUpdate"></span></p>
  </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Profile button click with blink + redirect
    const profileBtn = document.getElementById('profileBtn');
    profileBtn.addEventListener('click', () => {
      profileBtn.classList.add('blink');
      setTimeout(() => {
        window.location.href = 'p.html';
      }, 600);
    });

    // Last updated date
    const lastUpdate = document.getElementById('lastUpdate');
    if (lastUpdate) {
      lastUpdate.textContent = new Date().toLocaleDateString();
    }

    // Slideshow images auto-rotate
    const slides = document.querySelectorAll('.carousel-img');
    let current = 0;
    setInterval(() => {
      slides[current].classList.remove('active');
      current = (current + 1) % slides.length;
      slides[current].classList.add('active');
    }, 3500);

    // Language switcher
    const translations = {
      si: {
        title: "‡∂ú‡∑ä‚Äç‡∂ª‡∑è‡∂∏ ‡∂±‡∑í‡∂Ω‡∂∞‡∑è‡∂ª‡∑ì ‡∂∏‡∑è‡∂ª‡∑ä‡∂ú‡∂ú‡∂≠ ‡∑É‡∑ö‡∑Ä‡∑è",
        subtitle: "‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä‡∂±‡∑ä ‡∂©‡∑í‡∂¢‡∑í‡∂ß‡∂Ω‡∑ä ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫‡∂ß ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è‡∂≠‡∑ä‡∂∏‡∂ö ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂±‡∑í‡∂Ω ‡∑Ä‡∑ö‡∂Ø‡∑í‡∂ö‡∑è‡∑Ä‡∂ö‡∑ä",
      },
      ta: {
        title: "‡Æï‡Æø‡Æ∞‡Ææ‡ÆÆ ‡Æ®‡Æø‡Æ≤‡Æ§‡Ææ‡Æ∞‡Æø ‡ÆÜ‡Æ©‡Øç‡Æ≤‡Øà‡Æ©‡Øç ‡Æö‡Øá‡Æµ‡Øà‡Æï‡Æ≥‡Øç",
        subtitle: "‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Æø‡ÆØ ‡Æï‡Æø‡Æ∞‡Ææ‡ÆÆ ‡Æ®‡Æø‡Æ≤‡Æ§‡Ææ‡Æ∞‡Æø ‡Æö‡Øá‡Æµ‡Øà‡Æï‡Æ≥‡Øà ‡Æé‡Æ≥‡Æø‡Æ§‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æµ‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡ÆÖ‡Æ§‡Æø‡Æï‡Ææ‡Æ∞‡Æ™‡Øç‡Æ™‡ØÇ‡Æ∞‡Øç‡Æµ ‡Æ§‡Æ≥‡ÆÆ‡Øç",
      },
      en: {
        title: "Grama Niladhari Online Services",
        subtitle: "An Official Portal To Streamline Key GN Services",
      }
    };

    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.dataset.lang;
        document.querySelector('[data-i18n="title"]').textContent = translations[lang].title;
        document.querySelector('[data-i18n="subtitle"]').textContent = translations[lang].subtitle;
      });
    });
  });
</script>

<!-- Firebase SDKs -->
<!-- Firebase SDKs (add these if not already included) -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyATq733SgOlw3uX3hV2rNx8skuxm7aeppA",
    authDomain: "login-page-new-3780c.firebaseapp.com",
    projectId: "login-page-new-3780c",
    storageBucket: "login-page-new-3780c.appspot.com",
    messagingSenderId: "106026228924",
    appId: "1:106026228924:web:3e14f52a3fe928c06644b9"
  };

  // Initialize Firebase
  if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
  }

  const auth = firebase.auth();
  const db = firebase.firestore();

  // Elements
 
  const registerForm = document.getElementById("registrationForm"); // the form element
  const registerMessage = document.getElementById("registerMessage");
  const registerBtn = document.getElementById("registerBtn");

  if (!registerForm) {
    console.warn("No registration form found!");
  } else if (!registerBtn) {
    console.warn("No register button found!");
  } else {
    registerForm.addEventListener("submit", async (e) => {
      e.preventDefault(); // prevent default form submission

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();

      if (!name || !email || !password) {
        registerMessage.textContent = "‚ö†Ô∏è Please fill all fields.";
        registerMessage.style.color = "red";
        return;
      }

      // Disable button during registration
      registerBtn.disabled = true;
      const originalText = registerBtn.textContent;
      registerBtn.textContent = "Registering...";

      try {
        // Create Firebase user
        const userCredential = await auth.createUserWithEmailAndPassword(email, password);
        const user = userCredential.user;

        // Update display name
        await user.updateProfile({ displayName: name });

        // Save user details in Firestore
        await db.collection("users").doc(user.uid).set({
          name: name,
          email: email,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });

        registerMessage.textContent = "‚úÖ Registration successful!";
        registerMessage.style.color = "green";

        // Reset form
        registerForm.reset();

        // Redirect to officer info page after 1 second
        setTimeout(() => {
          window.location.href = "http://moha.gov.lk:8090/officerinfo/";
        }, 1000);

      } catch (err) {
        console.error("Registration error:", err);
        registerMessage.textContent = "‚ùå " + (err.message || "Registration failed");
        registerMessage.style.color = "red";
      } finally {
        registerBtn.disabled = false;
        registerBtn.textContent = originalText;
      }
    });
  }



  // Make sure confirmationResult is available from sending OTP
  const otpInput = document.getElementById("otp");
  const verifyBtn = document.getElementById("verifyBtn");

  verifyBtn.addEventListener("click", async () => {
    const otp = otpInput.value.trim();
    if (!otp) {
      alert("Please enter the OTP.");
      return;
    }

    try {
      const result = await confirmationResult.confirm(otp); // Firebase OTP confirm
      const user = result.user;

      // Redirect to main GNOS page
      window.location.href = "index.html"; // replace with your homepage (e.g., l3.html)
    } catch (err) {
      console.error("OTP verification failed:", err);
      alert("Invalid OTP. Please try again.");
    }
  });


</script>



</body>
</html>


